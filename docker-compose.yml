version: '3.8'

services:
  image-text-api:
    build:
      context: .
      args:
        USER_ID: ${USER_ID:-1000}
        GROUP_ID: ${GROUP_ID:-1000}
    container_name: image-text-api
    volumes:
      # Mount the Documents/Fanvue folder containing the images
      - /home/pocahontas/Documents/Fanvue:/home/pocahontas/Documents/Fanvue

      # Mount config files for telegram-api, x-api, bluesky-api, and fanvue-api so they can be updated
      - /home/pocahontas/git/apis/telegram-api/config.json:/home/pocahontas/git/apis/telegram-api/config.json
      - /home/pocahontas/git/apis/x-api/config.json:/home/pocahontas/git/apis/x-api/config.json
      - /home/pocahontas/git/apis/bluesky-api/config.json:/home/pocahontas/git/apis/bluesky-api/config.json
      - /home/pocahontas/git/apis/fanvue-api/config.json:/home/pocahontas/git/apis/fanvue-api/config.json

      # Mount the local config file
      - ./config.json:/app/config.json
